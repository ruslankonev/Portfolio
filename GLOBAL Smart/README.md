# Global_smart

# [Token](https://rinkeby.etherscan.io/address/0x72023610f39fd587ab352447dce8540c2f824851#code)

1) name - название токена

2) symbol - краткое название токена (3-4 символа)

3) decimals - количество знаков после запятой

4) dec - переменная для расчетов

5) owner - адрес владельца смарт-контракта токена

6) totalSupply - общее количество токенов

7) initialSupply - количество токенов при инициализации

8) crowdsaleAddress - адрес контракта сейла

9) allowed - список вида "адрес обладателя токенов -> адрес распоряжающегося токенами -> дозволенная для распоряжения сумма"

10) balanceOf - список обладателей токенов и их количества токенов

11) transfer - отправляет токены с адреса отправителя на указанный адрес получателя

12) transferFrom - отправляет токены с указанного адреса обладателя на указанный адрес получателя при условии наличия соответствующих прав

13) approve - наделяет указанный адрес правами на распоряжение указанной суммой токенов отправителя

14) allowance - возвращает количество токенов обладателя, которым может распоряжаться отправитель

15) increaseApproval - увеличивает количество токенов обладателя, которым может распоряжаться отправитель

16) decreaseApproval - снижает количество токенов обладателя, которым может распоряжаться отправитель

17) mint - создает новые токены на указанный адрес, может вызываться только c адреса владельца, PreICO или ICO

18) finishMinting - прекращает возможность создания новых токенов

19) burn - сжигает указанное количество токенов отправителя

20) mintFromICO - выпуск токенов в период сейла

21) setSaleAddress - установка адреса контракта сейла



# [Sale](https://rinkeby.etherscan.io/address/0xcce08fc2bd4e22f7dea8bc6533b51f30f1817461#code)

1) token - адрес токена

2) backEndOperator - адрес доверенного адреса

3) whitelist - массив для хранения доверенных инвесторов

4) startPreSale - дата начала предварительной распродажи в unix timestamp

5) endPreSale - дата окончания предварительной распродажи в unix timestamp

6) startMainSale - дата начала основной распродажи в unix timestamp

7) endMainSale - дата окончания основной распродажи в unix timestamp

8) investors - количество инвесторов

9) weisRaised - количество собранного эфира в wei

10) hardCapPreSale - хардкап предварительной распродажи

11) hardCapSale - хардкап основной распродажи

12) preSalePrice - цена токена предварительной распродажи

13) MainSalePrice - цена токена основной распродажи

14) soldTokensPreSale - продано токенов всего на предварительной распродаже

15) soldTokensSale - продано токенов на основной распродаже

16) dollarPrice - текущая цена эфира к доллару

17) setToken - функция для установки базового токена

18) setDollarRate - функция изменения цены ETH к USD

19) setStartPreSale - функция изменения даты

20) setEndPreSale - функция изменения даты

21) setStartSale - функция изменения даты

22) setEndSale - функция изменения даты

23) setBackEndAddress - функция установки и изменения доверенного адреса

24) authorize - функция авторизации инвестора

25) revoke - функция удаления авторизованного нивестора

26) isWhitelisted - функция проверки нахождения инвестора в whitelist

27) isPreSale - проверка стадии распродажи

28) isMainSale - проверка стадии распродажи

29) payable - функция приема эфира

30) preSale - функция отправки токенов в период предварительной распродажи

31) mainSale - функция отправки токенов в период основной распродажи

32) mintManual - функция ручного выпуска токенов с контракта

33) transferEthFromContract - функция снятия эфира с контракта владельцем



# Инструкция по размещению токена и контракта сейла в сети Ethereum(на примере тестовой сети Rinkeby)

Инструкция по внесению смарт-контракта в блокчейн через Remix(необходима установка Metamask).

`1` Вставить код GloWToken.sol в редактор кода (remix.ethereum.org);

`2` Нажать кнопку Deploy, расположенную в интерфейсе справа во вкладке Run;

`3` В консоли снизу после успешного внесения смарт-контракта токена в блокчейн, появится запись о выполнении. Необходимо кликнуть на Details и в списке найти хэш транзакции
По этому хэшу найти транзакцию на https://etherscan.io/;

`4` В транзакции будет указан адрес смарт-контракта - копируем;

`5` Вставить код GlowSale.sol в редактор кода (remix.ethereum.org), в качестве аргумента вставить текущую цену ETH к USD, целым числом, без дробной части;

`6` Нажать кнопку Deploy, расположенную в интерфейсе справаво вкладке Run;

`7` Выбрать в интерфейсе контракта GlowSale функцию SetToken и в качестве аргумента вставить скопированный адрес токена;

`8` Скопировать адрес созданного контракта GlowSale,и в интерфейсе контракта GloWToken вызвать функцию setSaleContract куда в качестве параметра вствить адрес GlowSale контракта;

`9` Контракт GloWToken и GlowSale готов к работе;

`10` Для изменения параметров использовать сеттеры функций с 17 по 23.

[Результаты тестов](https://github.com/elephant-marketing/Global_smart/blob/master/tests.txt)